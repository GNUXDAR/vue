<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Eventos</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div id="app" class="container">
		<!-- estilos dinamicos desde valor desde data con v-bind:style-->
		<p>Manejo de eventos, condicionales, v-bind:class, v-bind:style propiedades computadas y watchers</p>
		<div class="left" v-bind:style="{ background: '#' + color }">
			<img
				class="mouse"
				v-on:mouseover="toggleShowPrices"
				v-on:mouseout="toggleShowPrices"
				v-bind:src="img" v-bind:alt="name" width="50px;"
			>
			<!-- atributo class con v-bind -->
			<h1 v-bind:class="changePercent > 0 ? 'green' : 'red'">
				{{ title }}
			</h1>

			<p>Mostrar: {{ showPrices }}</p>

			<span v-on:click="toggleShowPrices" class="mouse">
				{{ showPrices ? 'üêµ' : 'üôà' }}
			</span>
			<br>
			<input type="number" v-model="value">	<span>$</span>
			<br>
			<span>{{ convertedValue }} {{ title }}</span>

			<ul v-show="showPrices"> <!-- muestra si es true -->
				<!-- aplicar v-bind: class con condicional y con objetos -->
				<li
					class="uppercase"
					v-bind:class="{ orange: d.value === price, red: d.value < price, green: d.value > price  }"
					v-for="d in pricesWithDays">
					{{ d.day }} - {{ d.value }}
				</li>
			</ul>
		</div>

		<div class="right">
			<!-- verificacion de vue -->
			<pre>{{ $data }}</pre>
		</div>
	</div>

	<script src="js/vue.js" type="text/javascript"></script>
	<script type="text/javascript">
		const app = new Vue({					//instancia
			el: "#app",
			data() {
				return {
					name: 'Bitcoin',
					symbol: 'BTC',
					img: 'https://cryptologos.cc/logos/bitcoin-btc-logo.png',
					changePercent: 10,
					value: 0,
					color: 'f4f4f4',
					price: 8400,
					pricesWithDays : [
						{ day: 'Lunes', value: 8400},
						{ day: 'Martes', value: 5400},
						{ day: 'Miercoles', value: 3300},
						{ day: 'Jueves', value: 9000},
						{ day: 'Viernes', value: 7600},
						{ day: 'Sabado', value: 8400},
						{ day: 'Domingo', value: 10000},
					],
					showPrices: true,
				}
			},
			//propiedadas computadas, trabajan con valores del modelo y retorna un valor compuesto (siempre retornan algo)
			computed: {
				title() {
					return `${this.name} - ${this.symbol}`
				},

				convertedValue() {
					if (!this.value) {
						return 0
					}

					return this.value / this.price
				},
			},
			// ejecutan un codigo, los nombre de las funciones deben corresponder con el nombre de un propiedad de data, recibe dos valores, el valor nuevo y un valor viejo
			watch: {
				showPrices(newVal, oldVal) {
					console.log(newVal, oldVal)
				}
			},
			methods : {
				toggleShowPrices(){
					this.showPrices = !this.showPrices
					this.color = this.color.split('').reverse().join('')
				}
			}
		});

	</script>
</body>
</html>
